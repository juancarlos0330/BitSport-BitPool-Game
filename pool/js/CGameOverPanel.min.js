function CGameOverPanel(e) {
  var t,
    i,
    n,
    s,
    r,
    a,
    o,
    h,
    _,
    c,
    T = e;
  (this._init = function () {
    (t = new Array()),
      (i = new Array()),
      ((c = new createjs.Container()).visible = !1),
      T.addChild(c),
      (_ = new createjs.Shape()).graphics
        .beginFill("black")
        .drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT),
      (_.alpha = 0),
      (n = _.on("mousedown", function () {})),
      c.addChild(_),
      ((h = new createjs.Container()).scale = 0.01),
      (h.x = CANVAS_WIDTH / 2),
      (h.y = CANVAS_HEIGHT / 2),
      c.addChild(h);
    var e = s_oSpriteLibrary.getSprite("msg_box"),
      d = createBitmap(e);
    h.addChild(d);
    var f = e.width - 300;
    (r = new CTLText(
      h,
      20 + e.width / 2 - f / 2,
      e.height / 2 - 100,
      f,
      80,
      80,
      "center",
      "#fff",
      FONT_GAME,
      1,
      0,
      0,
      "",
      !0,
      !0,
      !1,
      !1
    )),
      (a = new CTLText(
        h,
        20 + e.width / 4 - f / 2,
        e.height / 2 - 110,
        800,
        100,
        40,
        "center",
        "#fff",
        FONT_GAME,
        1,
        0,
        0,
        " ",
        !0,
        !0,
        !0,
        !1
      )),
      (o = new CTLText(
        h,
        20 + e.width / 4 - f / 2,
        e.height / 2,
        800,
        100,
        40,
        "center",
        "#fff",
        FONT_GAME,
        1,
        0,
        0,
        " ",
        !0,
        !0,
        !0,
        !1
      )),
      // (s = new CGfxButton(
      //   e.width / 2,
      //   e.height - 100,
      //   s_oSpriteLibrary.getSprite("but_home"),
      //   h
      // )).addEventListener(ON_MOUSE_UP, this._onHome, this),
      (h.regX = e.width / 2),
      (h.regY = e.height / 2);
  }),
    (this.addEventListener = function (e, n, s) {
      (t[e] = n), (i[e] = s);
    }),
    (this.unload = function () {
      _.off("mousedown", n), s.unload();
    }),
    (this.show = function (e, t) {
      r.refreshText(e),
        t &&
          (r.setOffsetY(-100),
          a.refreshText(TEXT_FINAL_SCORE + "\n" + t),
          o.refreshText(sprintf(TEXT_BEST_SCORE, s_iBestScore)),
          s_oLocalStorage.saveBestScore(t),
          $(s_oMain).trigger("share_event", t),
          $(s_oMain).trigger("save_score", t)),
        (c.visible = !0),
        createjs.Tween.get(_).to({ alpha: 0.7 }, 500),
        createjs.Tween.get(h).to({ scale: 1 }, 1e3, createjs.Ease.elasticOut);
    }),
    (this._blockButtons = function () {
      s.block(!0);
    }),
    (this._onRestart = function () {
      this._blockButtons(), t[ON_RESTART] && t[ON_RESTART].call(i[ON_RESTART]);
    }),
    (this._onHome = function () {
      this._blockButtons(),
        t[ON_EXIT_GAME] && t[ON_EXIT_GAME].call(i[ON_EXIT_GAME]);
    }),
    this._init();
}
