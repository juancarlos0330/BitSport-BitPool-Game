function CTextButton(t, n, e, i, s = FONT_GAME, o = "#fff", c, u, h) {
  var f,
    a,
    r,
    l,
    d,
    O,
    _,
    g,
    w,
    x,
    b,
    N,
    S = h;
  (this._init = function (t, n, e, i, s, o, c, u) {
    (f = !1),
      (a = 1),
      (d = new Array()),
      (O = new Array()),
      (N = createBitmap(e)),
      (r = e.width),
      (l = e.height),
      ((x = new createjs.Container()).x = t),
      (x.y = n),
      (x.regX = e.width / 2),
      (x.regY = e.height / 2),
      s_bMobile || (x.cursor = "pointer"),
      x.addChild(N, b),
      S.addChild(x);
    var h = e.width - 20,
      _ = e.height - 20;
    (b = new CTLText(x, 0, 0, h, _, c, u, o, s, 1, 0, 0, i, !0, !1, !1, !1)),
      this._initListener();
  }),
    (this.unload = function () {
      x.off("mousedown", _), x.off("pressup", g), S.removeChild(x);
    }),
    (this.setVisible = function (t) {
      x.visible = t;
    }),
    (this.setAlign = function (t) {
      b.textAlign = t;
    }),
    (this.setTextOffsetX = function (t) {
      b.setOffsetX(t);
    }),
    (this.setTextOffsetY = function (t) {
      b.setOffsetY(t);
    }),
    (this.setScale = function (t) {
      (x.scaleX = x.scaleY = t), (a = t);
    }),
    (this.enable = function () {
      f = !1;
    }),
    (this.disable = function () {
      f = !0;
    }),
    (this._initListener = function () {
      (_ = x.on("mousedown", this.buttonDown)),
        (g = x.on("pressup", this.buttonRelease));
    }),
    (this.addEventListener = function (t, n, e) {
      (d[t] = n), (O[t] = e);
    }),
    (this.addEventListenerWithParams = function (t, n, e, i) {
      (d[t] = n), (O[t] = e), (w = i);
    }),
    (this.buttonRelease = function () {
      f ||
        (playSound("click", 1, !1),
        (x.scaleX = a),
        (x.scaleY = a),
        d[ON_MOUSE_UP] && d[ON_MOUSE_UP].call(O[ON_MOUSE_UP], w));
    }),
    (this.buttonDown = function () {
      f ||
        ((x.scaleX = 0.9 * a),
        (x.scaleY = 0.9 * a),
        d[ON_MOUSE_DOWN] && d[ON_MOUSE_DOWN].call(O[ON_MOUSE_DOWN], w));
    }),
    (this.setPosition = function (t, n) {
      (x.x = t), (x.y = n);
    }),
    (this.tweenPosition = function (t, n, e, i, s, o, c) {
      createjs.Tween.get(x)
        .wait(i)
        .to({ x: t, y: n }, e, s)
        .call(function () {
          void 0 !== o && o.call(c);
        });
    }),
    (this.changeText = function (t) {
      b.refreshText(t);
    }),
    (this.setX = function (t) {
      x.x = t;
    }),
    (this.setY = function (t) {
      x.y = t;
    }),
    (this.getButtonImage = function () {
      return x;
    }),
    (this.getX = function () {
      return x.x;
    }),
    (this.getY = function () {
      return x.y;
    }),
    (this.getSprite = function () {
      return x;
    }),
    (this.getScale = function () {
      return x.scaleX;
    }),
    this._init(t, n, e, i, s, o, c, u);
}
