function CBallSpinGUI(i, t, e) {
  var n,
    a,
    r,
    s,
    c,
    h,
    o,
    l,
    f = e;
  (this._init = function (i, t) {
    ((o = new createjs.Container()).x = i), (o.y = t), f.addChild(o);
    var e = s_oSpriteLibrary.getSprite("ball_spin_gui");
    ((s = createBitmap(e)).regX = e.width / 2),
      (s.regY = e.height / 2),
      (c = new createjs.Shape()).graphics
        .beginFill("#fff")
        .drawCircle(0, 0, MAX_SPIN_VALUE),
      (c.alpha = 0.01),
      o.addChild(s, c);
    var r = s_oSpriteLibrary.getSprite("ball_spin_token");
    ((h = createBitmap(r)).regX = r.width / 2),
      (h.regY = r.height / 2),
      (h.x = 0),
      (h.y = 0),
      o.addChild(h),
      (n = e.width / 2),
      (a = new CVector2(i, t)),
      (l = { x: o.x, y: o.y });
  }),
    (this.unload = function () {
      c.off("click", r);
    }),
    (this._onRelease = function (i) {
      if (s_oGame.getCurTurn() == userTurnID) {
        var t = s.globalToLocal(i.stageX, i.stageY);
        distance(new CVector2(i.stageX, i.stageY), a) < n &&
          ((h.x = t.x - n), (h.y = t.y - n));
      }
    }),
    (this.resetSpin = function () {
      (h.x = 0), (h.y = 0);
    }),
    (this.setSideSpin = function (i) {
      h.x = i;
    }),
    (this.setBackSpin = function (i) {
      h.y = i;
    }),
    (this.getSideSpin = function () {
      return -h.x;
    }),
    (this.getBackSpin = function () {
      return -h.y;
    }),
    (this.refreshOffsetPos = function (i, t) {
      (o.x = l.x + i), (o.y = l.y + t), a.set(o.x, o.y);
    }),
    (this.addInitEventListeners = function () {
      r = c.on("click", this._onRelease, this);
    }),
    this._init(i, t);
}
